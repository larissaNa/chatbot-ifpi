{% extends "layouts/base-authentication.html" %}

{% block title %} Login {% endblock title %}

<!-- Specific CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="peers ai-s fxw-nw h-100vh">
      <div class="d-n@sm- peer peer-greed h-100 pos-r bgr-n bgpX-c bgpY-c bgsz-cv" style='background-image: url("{{ config.ASSETS_ROOT }}/images/ifpia.png")'>
        <div class="pos-a centerXY">
          <!-- <div class="bgc-white pos-r" style="width: 300px; height: 160px; border-radius: 10px;">
            <img class="pos-a centerXY" src="{{ config.ASSETS_ROOT }}/images/logo_ivortice.png" style='width: 500px;' alt="">
          </div> -->
        </div>
      </div>
      <div class="col-12 col-md-4 peer pX-40 pY-80 h-100 bgc-white scrollable pos-r" style='min-width: 320px;'>

        <h4 class="fw-300 c-grey-900 mB-40">IFPIA Login</h4>
        
        {% if msg %}
            <p class="fw-300 c-red-900 mB-40">{{ msg | safe }}</p>
        {% else %}
            <p class="fw-300 c-grey-900 mB-40">
              Digite seu Login e Senha para acessar o sistema.
            </p>
        {% endif %}

        <form method="post" action="">

          {{ form.hidden_tag() }}
          
<fb:login-button 
config_id="{config_id}"
onlogin="checkLoginState();">
</fb:login-button>
          <div class="mb-3">
            <label class="text-normal text-dark form-label">Nome de Usuário</label>
            {{ form.username(placeholder="Username", class="form-control") }}
          </div>

          <div class="mb-3">
            <label class="text-normal text-dark form-label">Senha</label>
            {{ form.password(placeholder="Password", class="form-control", type="password") }}
          </div>

          <div class="mb-3">
            <button type="submit" name="login" class="btn btn-primary">Login</button>

            &nbsp; &nbsp;
            <!--<span class="text-small font-weight-semibold">Ainda não tenho um conta.</span>
            <a href="{{ url_for('authentication_blueprint.register') }}" class="text-black text-small">Criar uma conta.</a>-->  
          </div>

        </form>
      </div>
    </div>

{% endblock content %}
<script>
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }
  </script>
<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
